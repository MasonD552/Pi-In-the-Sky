# Pi in the Sky
Mason Divers Jinho Park

![Youtubevideogif of gliderflying away](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/images/ezgif.com-optimize.gif)

&nbsp;


## Table of Contents
* [Planning](#Planning)
* [Risk Mitigation](#Risk_Mitigation)
* [Code Blocks](#Code_Blocks)
* [Launches](#Launches)
* [Onshape](#Onshape)
* [Bill of Materials](#Bill_Of_Materials)
* [Python](#Python)
* [Wiring](#Wiring)
* [Reflection](#Reflection)
* [Graph_and_Data](#Graph_and_Data)

  
&nbsp;

## Planning

### [Link to the full planning document](https://docs.google.com/document/d/1NXeKnzZdSg2TqsSXZj62jXSP2QAsmZ6uVfKxvh8M7RQ/edit?usp=sharing)


### Problem 
Designing and constructing the AeroData Tracker, an advanced glider made of styrofoam, equipped with sensors and a motor to maintain speed, presents a multifaceted challenge. The goal extends beyond achieving a successful flight and data capture; it also is demonstrating precise control over the glider's smooth flight.

### Sketches, Drawings, Diagrams, etc.
![Exaclidrawingscketch](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/images/Excali%20draw%20project%20sketch%20of%20glider.png)
![IMG_20231208_133631](https://github.com/MasonD552/Pi-In-the-Sky/assets/113122312/7e3a5ef9-3576-4bed-8e3e-be1737a3d171)
![Video of motor test](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/images/ezgif-1-49ec937a0d.gif)
![Youtube image of the glider](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/images/Youtubevideo%20image.png)

### Iterations/Solutions
1. Attach a small, lightweight motor to help keep the glider in the air longer
2. Make the glider remote-controlled, adding fins and a more powerful motor.
3. Use a combination of sensors and a recording device for comprehensive data capture.

## Risk_Mitigation
When talking about risk we first have to talk about potential dangers. The propeller is the main safety hazard because it spins so fast, to protect ourselves we are going to wear gloves as well as safety glasses. The other problem is the plane coming back and hitting someone in the head (it happened to mason) to protect us from this we will also wear safety glasses because the main risk is the propeller and we might also wear a hat or helmet. 

## Code_Blocks

<img src="https://github.com/MasonD552/Pi-In-the-Sky/blob/main/images/WIN_20240125_14_05_09_Pro.jpg"  width="50%" height="20%">


### What might the final design look like?
Our final solution is most likely going to be a glider purchased online **LINK**. We will take the glider and attach a motor onto the glider in order for the glider to fly longer. In order to record the flight data of the motor we will hollow out the cockpit of the glider in order to have room to fit the pico and the sensors. The motor we are using is a small drone motor that we will attach to the top fin of the plane. We are going to replace the foam cockpit cover with a 3D-printed one so we can pop it on and off easily. We will also include an easily accsesible switch so the glider motor is not always running. We will also include a place where you can plug the glider into a computer to access the flight data.

&nbsp;

## [Weekly Milestone Document](https://docs.google.com/document/d/18BsiWJBjAEjfBCMQsnZhUZLcynrcRc9x9TwaMXnt_gY/edit?usp=sharing)

## Launches 

![IMG_2948-ezgif com-video-to-gif-converter](https://github.com/MasonD552/Pi-In-the-Sky/assets/113122312/f8ebccad-ba2f-472b-8973-e9c3bd4d6cf7)

This launch was one of our first and it didn't go great but it was good for a first attempt. The motor did turn on although since we were throwing it with the wind it blew it down. The inside was fine and all the mechanics worked. What we learned is that throwing it with the wind doesn't help flight time and that throwing it higher would be ideal so it doesn't nose dive. Another reason it nose-dived was because the telo battery was too far forward and that weight led it to be front-heavy instead of balanced. 

![IMG_2951-ezgif com-cut](https://github.com/MasonD552/Pi-In-the-Sky/assets/113122312/22587284-9358-4d3c-83fc-9d9515b92a9f)

This second launch was much better than the previous launch above. This time we threw it into the wind and it lifted the plane much more instead of it getting pushed down. The motor turned on and it was in the air for more time than it seems like in the video and when the motor switched off it stopped (which is good to see the motor propelling it). It did fall hard but the inner mechanisms were fine and it was an overall informative test to see how it flies and how long we need to run the motor for. 

![MOV2989](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/videos/IMG_2989-ezgif.com-video-to-gif-converter.gif)

![MOV2990](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/videos/IMG_2990-ezgif.com-video-to-gif-converter.gif)

![MOV2992](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/videos/IMG_2992-ezgif.com-video-to-gif-converter.gif)

![MOV2993](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/videos/IMG_2993-ezgif.com-video-to-gif-converter.gif)

![MOV2994](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/videos/IMG_2994-ezgif.com-video-to-gif-converter.gif)

![MOV2995](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/videos/IMG_2995-ezgif.com-optimize.gif)

![MOV29937](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/videos/IMG_2997-ezgif.com-video-to-gif-converter.gif)



## Onshape

### Description

Assembly and Sketches of where the glider is being constructed and enhanced. 

### [Onshape Link](https://cvilleschools.onshape.com/documents/f701dde28e44a5d64f88d513/w/c3d1b7aabe3bebd2015edd37/e/548be30dfa79183bc255445f?renderMode=0&uiState=65736315da53c53d448474a5)

![Capture](https://github.com/MasonD552/Pi-In-the-Sky/assets/113122312/64809be4-3b21-4f54-858c-aa7559ae2269)

[Link to Glider GrabCad](https://grabcad.com/library/multiplex-fox-glider-plane-1)
***Thanks to GrabCad for the model glider that we are able to help make our design for the glider.***
### Part Images

![Capture](https://github.com/MasonD552/Pi-In-the-Sky/assets/113122312/f7c037cf-3e73-4b46-acec-7166ce817961)

Take a nice screenshot of your Onshape document. 

### Tweaks 
A design change that we made early on was the propeller guard. It was very flimsy and broke easily, so I put toothpicks up as supports which helped the sturdiness a little. It was still unstable so I ended up printing another part one that would be a full circle and attach to the bottom for stability.



<img src="https://github.com/MasonD552/Pi-In-the-Sky/assets/113122312/3451002f-1d3e-43cb-82c7-c140e1837556"  width="50%" height="20%"> <img src="https://github.com/MasonD552/Pi-In-the-Sky/assets/113122312/1d8b665f-07a1-4346-b59d-5a14b3e0b1f9"  width="50%" height="20%"> 

## New Model (blue plane)
Picture here
When we originally got the 2 planes we planned for one to be the prototype(pink) and one to be the final(blue). For most of the year, we worked on tweaking and configuring the pink plane to fit all of the components and materials. It worked but the flight was crooked and the frame was janky and not well put together. Despite this I recommend always doing a prototype because all of the challenges I faced when making the pink one led to the blue one being much more efficient and better put together/clean. (talk about the launch). 
If I had one takeaway it would be better time management because if we had finished the pink one sooner the blue one would've been around longer to test flights and data. Although, the pink one did ok in flight a more clean design always helps with efficiency. 

### Reflection

This project was an interesting challenging and fun test of me and Mason's engineering skills. To start out we brainstormed ideas of what could fly, planes, gliders, helicopters, things in nature. We ultimately landed on a glider that resembled a plane; It was extremely helpful to have an idea of what our project was going to look like even before we knew the functions and sensors. Advice for this early stage is to not take it for granted because although it seems like you have loads of time a slow start or a bad foundation can make or break a project. I would say that Mason and I did start off with our idea pretty early but one thing I would say is to focus more on the functionality rather than the idea and we could've focused more on it being lighter than how powerful the motor was; overall the planning stage went well and we went into the project with a goal which was good for our motivation. Next, we focused on building the glider, I worked on Onshape and Mason did the early code. Onshape is an immensely helpful tool and allowed me to make custom parts with 3D printing as well as have an idea of what the project would look like. I recommend starting Onshape soon after if not during planning to have an early concept of what your project will look like and if it's attainable (although not getting carried away with fine details helps to prevent scope creep -extra details or features not necessary that complicate a project). Even though our plane construction was more physical in a design sense with cutting away and adding foam as opposed to creating parts (aside from the fin) it was still good to have a reference on what the plane is supposed to look like in Onshape. After the plane was built we were ready to launch. We didn't have extremely high hopes since it was a windy road leading up to it. We were a little worried about dragging the class outside just for a motor to break or the battery not to turn on but a big piece of advice is to test early since it's the most foolproof way to check what works and what doesn't. We were worried about wasting time launching and being obsessive overly checking something to make sure it worked. This may not sound like a bad thing but when we were testing the motor it fried due to overuse. If we had launched more and sooner we would've found out about problems early and had more time to fix them. When we did launch the plane was somewhat successful and it stayed in the air a little, while it collected the data we needed. The launches also helped us track our progress as shown in the videos above. The most important tip I can give is time management, a year sounds like a lot of time but you need to look at your time and what you need to accomplish and try to split it up accordingly. I recommend doing this earlier so you aren't stressed and cramming at the end of the year (we could've planned our time better). Overall this project was a great learning experience in trying something new and having fun with it in the fails and successes. I learned a lot about projects and the steps necessary to accomplish them this year and although it wasn't one of my most successful projects it taught me a lot. - Jinho


This project was a test of my and Jinho's skills. We had to be able to battle Mr. Miller's time deadline. The start of our project was the planning aspect, we had trouble coming up with the idea of what we wanted to do. We had multiple ideas from weather balloons to RC planes, to things being thrown. We ended up coming with the glider when we found a video online. It was an ad for a glider and then I found the glider with a motor and prop attached. So we set out to find a suitable glider that would be able to fit. We came across a foam glider from Amazon. We also ended up finding a glider on GrabCAD we were able to implement into OnShape. Jinho was very good at creating a replica in OnShape. For me, I became very proactive at working on the code. One of the things I struggled with was being able to have the motor shut off regardless of the switch being turned off. I solved this by making it so that it would check to see if the switch was turned and if it wasn't the motor would not be on, If the motor switch was on it would set time.monotonic() for 5 seconds or so and turn off. Another issue we kept having was with the wiring, the first time we wired up the PI Cowbell it worked for a week, and then the following week it stopped working, I think I have come to the conclusion as to why it stopped working. The wiring diagram I used did not match with the wiring I did so believe I got the wiring backward. So what I did to fix it was I re-soldered a new Pi Cowbell and made everything more concise, this worked and made it run for a while, until the motor started acting weird. Me and I came to the realization that the motors had a life span and the fact that these DJI Telo batteries normally power four of these motors at once we only had it powering one. Thus, making the lifespan drastically decrease. SO what we did to combat this was by only having the motor run for tests for a short time. Another issue we were having was with the glider tilting to the right on throws so we scrapped the red glider and shifted everything to the blue glider we hope that this will make it so that the glider is able to fly more straight. After the first time the PiCowbell wasn't working we got rid of the MPU6050, it wasn't giving us the data we wanted and we thought it was adding too much clutter to the inside of the glider cockpit. In total some things we could change if we did this project again would be: documenting more as we go along through the project, finding a bigger foam glider to use, possibly being able to construct our own glider, and finally, we could have maybe used our time more efficiently. I think in total this project taught us many things from communicating with one another more efficiently, improvising, and all-around better knowledge of using Circuit Python and OnShape. P.S. Visual Studio and GitHub need to be able to work next year, don't get rid of GitHub!!!! -Mason

&nbsp;

## Bill_of_Materials 
- 2 foam planes (1 prototype) - $11.99
- Pico - $6
- Altimeter - $8.96 per MPL3115A2 in a pack of 10
- micro motor + propeller - [Link](http://www.crazepony.com/products/tiny-whoop-motors.html)
- MPU 6050 $11.66 per MPU6050 in a pack of 10
- battery DJI Tello battery $19-20
- 3D printing
- toothpicks
- hot glue
- rubber bands

## Python

[Link to Python Code](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/raspberry-pi/Pi_In_the_sky.py)


## Wiring

![WiringDiagramPiSky](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/images/Untitled%20Sketch%202_bb.png)
Pt 1. 
![WiringDiagramPiSkypt2](https://github.com/MasonD552/Pi-In-the-Sky/blob/main/images/pi%20in%20the%20sky%20wiring_pt2.jpg)
Pt 2. We changed the wiring to account for the weight of the pane making it lighter. We removed the MPU 6050. As well as changing the wiring for the Mosfet. 

## Graph_and_Data
[Link to Spreadsheet Document of Data from throws on 5/17/24](https://docs.google.com/spreadsheets/d/1uB8QebK5OYZqLGza91r29Eb5k3zE_UhoGJ2RRBXb9n0/edit?usp=sharing)

This data is important because it shows the altitude both relative and the sea level in feet. First, the data shows the change in altitude from  the initial altitude read. So if the initial altitude is 200 ft above sea level the relative data will show how much it increases or decreases. This is important because it accurately shows the change in the data. 

[Link to Spreadsheet Document of Data from throws on 5/31/24](https://docs.google.com/spreadsheets/d/1ASbpyC87Iu_ZH8x6YXO8Ot0etcPhHYyarAS40-dp2ug/edit?usp=sharing)

This data is important as it shows the relative altitude for the data collected on the blue plane. We installed a different iteration of the MPL library to collect data faster, resulting in more data. As you can see there is a difference between the first set of data and the second. The first set of data has fewer lines of data but results in smoother lines while the second lines of data result in more spikey lines of data. Now for both codes there's a gap in the data where the line is straight this is because when the switch on the motor is turned off it stops recording data but, the time keeps recording so it results in jumps from different data.
